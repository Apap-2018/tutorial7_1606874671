<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Add Flight</title>
	
		<object th:include="fragments/fragment :: css" th:remove="tag"></object>
		<object th:include="fragments/fragment :: js" th:remove="tag"></object>
	</head>
	
	<body>
		<nav th:replace="fragments/fragment :: navbar"></nav>
		
		<div class="container-fluid">
			<div class="col-md-6">
				<div class="card">
			
					<form><input type="button" class="btn btn-danger" value="Back" onclick="history.back()"></form>
					<div class="card-header">
						<h2>Hello!</h2>
					</div>
					<div class="card-body">
						<h3>Tambah Penerbangan</h3>
						<form th:action="@{'/flight/add/' + ${pilot.licenseNumber}}" th:object="${pilot}" method="POST">
							<input type="hidden" th:field="*{licenseNumber}"></input>
							<table border="I" class="table table-hover">
								<thead>
									<tr>
										<th style="text-align: center;">Flight Number</th>
										<th style="text-align: center;">Origin</th>
										<th style="text-align: center;">Destination</th>
										<th style="text-align: center;">Time</th>
										<th>
				                        	<button class="btn btn-success" type="submit" name="addRow">Add Row</button>
				                    	</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="flight,iterationStatus : *{pilotFlight}">
										<td><input type="text"
											th:field="*{pilotFlight[__${iterationStatus.index}__].flightNumber}" />
										</td>
										<td><input type="text"
											th:field="*{pilotFlight[__${iterationStatus.index}__].origin}" />
										</td>
										<td><input type="text"
											th:field="*{pilotFlight[__${iterationStatus.index}__].destination}" />
										</td>
										<td><input type="date"
											th:field="*{pilotFlight[__${iterationStatus.index}__].time}" />
										</td>
										<td>
											<button type="submit" name="removeRow" class="btn btn-danger" th:value="${iterationStatus.index}">Remove row</button>
										</td>
									</tr>
								</tbody>
							</table>
							<button type="submit" name= "save" class="btn btn-primary">Submit</button>
						</form>
						<br>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>